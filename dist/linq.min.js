/*! linqjs v0.1.0 */
!function(a,b){"use strict";function c(a){var b=a.length,c=d(a);return"window"===c?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1].toLowerCase()}var e=a.linq={},f=e.enumerable=function(a){return this instanceof f?(this.enumerator=function(){return new a},void 0):new f(a)};e.fn=f.prototype,e.extend=function(a){var b;for(b in a)a.hasOwnProperty(b)&&(e.fn[b]=a[b])},e.from=a.from=function(a){if(!c(a)){var b,d=a;a=[];for(b in d)d.hasOwnProperty(b)&&a.push({key:b,value:d[b]})}return new f(function(){var b=-1,c=a.length;this.current=function(){return 0>b||b>=c?null:a[b]},this.next=function(){return++b<c}})},e.times=a.times=function(a){for(var b=0,c=[];a>b;b++)c.push(b);return e.from(c)},e.range=a.range=function(a,b){for(var c=[];b>=a;a++)c.push(a);return e.from(c)};var g=/^\(? *([a-zA-Z_$]+[a-zA-Z_$0-9]* *(?:, *[a-zA-Z_$]+[a-zA-Z_$0-9]* *)*)?\)?$/,h=/^\| *([a-zA-Z_$]+[a-zA-Z_$0-9]* *(?:, *[a-zA-Z_$]+[a-zA-Z_$0-9]* *)*)\|/;e.lambda=function(a){if("string"!==d(a))return a;a=a.trim();var b,c;if(h.test(a))b=a.match(h)[1],c=a.substr(a.indexOf("|",1)+1);else{if(-1===a.indexOf("=>"))throw new SyntaxError("Not a valid lambda expression. Example: x => x.foo");var e=a.split("=>");if(b=e[0].trim(),c=e[1],""===b)throw new SyntaxError("Lambda signature missing. For a parameterless signature, use: () => 42");if(!g.test(b))throw new SyntaxError("Lambda signature is invalid.");b=b.match(g)[1]}if(c=(c||"").trim(),""===c)throw new SyntaxError("Lambda must return something.");return new Function(b,"return "+c)},e.extend({select:function(a){a=e.lambda(a);var b=this;return e.enumerable(function(){var c=null,d=b.enumerator();this.current=function(){return c},this.next=function(){var e;return c=(e=d.next())?a.call(b,d.current()):null,e}})},where:function(a){a=e.lambda(a);var b=this;return e.enumerable(function(){var c=null,d=b.enumerator();this.current=function(){return c},this.next=function(){for(;d.next();)if(a.call(b,d.current()))return c=d.current(),!0;return!1}})},take:function(a){var b=this;return e.enumerable(function(){var c=b.enumerator(),d=0;this.current=function(){return c.current()},this.next=function(){return d++<a&&c.next()}})},skip:function(a){var b=this;return e.enumerable(function(){var c=b.enumerator(),d=0;this.current=function(){return c.current()},this.next=function(){for(;a>d&&c.next();)d++;return c.next()}})},step:function(a){var b=this;return e.enumerable(function(){var c=b.enumerator(),d=!1;this.current=function(){return c.current()},this.next=function(){if(!d)return d=!0,c.next();for(var b=1;a>b&&c.next();)b++;return c.next()}})}}),e.extend({each:function(a){for(var b=this.enumerator(),c=0;b.next()&&a.call(this,b.current(),c++)!==!1;);},array:function(){for(var a=[],b=this.enumerator();b.next();)a.push(b.current());return a},first:function(){var a=this.enumerator();return a.next(),a.current()},last:function(){for(var a=this.enumerator(),b=null;a.next();)b=a.current();return b},count:function(){for(var a=this.enumerator(),b=0;a.next();)b++;return b},hash:function(a,c){var d,f,g,h=this,i={},j=this.enumerator(),k=arguments.length>0&&!!a,l=arguments.length>1,m=0;for(a=e.lambda(a),c=e.lambda(c);j.next();)g=j.current(),d=k?a.call(h,g):g.hasOwnProperty("key")&&g.key!==b?g.key:m,f=l?c.call(h,g):g.hasOwnProperty("value")&&g.value!==b?g.value:g,i[d]=f,m++;return i},contains:function(a){for(var b=this.enumerator();b.next();)if(b.current()===a)return!0;return!1},any:function(){return null!==this.first()}})}(window);